# PRD-0004 Checklist: 로컬 LLM 모델 극한 테스트 환경

**PRD**: [PRD-0004-llm-stress-test.md](../PRD-0004-llm-stress-test.md)
**Status**: Draft
**Priority**: P1

---

## Phase 1: 인프라 구축

- [ ] 테스트 디렉토리 구조 생성 (`tests/stress/`)
- [ ] 테스트 설정 파일 생성 (`vitest.stress.config.ts`)
- [ ] 환경 변수 설정 (`STRESS_TEST_*`)
- [ ] 필수 패키지 설치 (`piscina`, `systeminformation`)

## Phase 2: 응답 속도 테스트

- [ ] `latency.stress.ts` 구현
- [ ] 테스트 질문 세트 작성 (`fixtures/questions.json`)
- [ ] TTFT/TTL 측정 로직 구현
- [ ] P50/P95/P99 계산 로직 구현
- [ ] qwen3:4b 테스트 실행 및 결과 기록
- [ ] qwen3:8b 테스트 실행 및 결과 기록
- [ ] qwen3:14b 테스트 실행 및 결과 기록

## Phase 3: 동시 요청 테스트

- [ ] `concurrency.stress.ts` 구현
- [ ] 워커 풀 설정 (piscina)
- [ ] 동시 요청 레벨별 시나리오 (1/5/10/20/50)
- [ ] Throughput 측정 로직
- [ ] 실패율 추적 로직
- [ ] 전체 모델 테스트 실행

## Phase 4: 자원 한계 테스트

- [ ] `resource.stress.ts` 구현
- [ ] VRAM 모니터링 (`nvidia-smi` 연동)
- [ ] RAM 모니터링 (`systeminformation`)
- [ ] 컨텍스트 길이 한계 테스트 (4K/8K/16K)
- [ ] OOM 시나리오 테스트 및 복구 검증

## Phase 5: 리포트 생성

- [ ] `utils/reporter.ts` 구현
- [ ] Markdown 테이블 생성 로직
- [ ] 벤치마크 결과 파일 자동 생성
- [ ] 모델별 권장 설정 도출

## Phase 6: 검증 및 문서화

- [ ] 전체 테스트 1회 완주 확인
- [ ] npm 스크립트 추가 (`test:stress`, `benchmark:report`)
- [ ] README에 사용법 추가
- [ ] 첫 벤치마크 결과 저장

---

## Quick Links

| 항목 | 경로 |
|------|------|
| PRD | `docs/PRD-0004-llm-stress-test.md` |
| 테스트 코드 | `tests/stress/` |
| 결과 저장 | `tests/benchmarks/results/` |
