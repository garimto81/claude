---
name: auto
description: 자율 판단 자동 완성 - Claude가 다음 작업을 스스로 판단하고 실행
---

# /auto - 자율 판단 자동 완성

Claude가 **다음에 해야 할 작업을 스스로 판단**하고 **자동으로 실행**합니다.

## Tab 자동완성 vs /auto

```
┌─────────────────────────────────────────────────────────────────┐
│  Tab 자동완성                                                   │
│    상태 분석 → 제안 → [사용자 선택] → 실행                      │
│                         ▲                                       │
│                      사용자 판단                                │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│  /auto                                                          │
│    상태 분석 → 판단 → 실행 → 상태 분석 → 판단 → 실행 → ...     │
│                 ▲                                               │
│              AI 판단 (사용자 개입 없음)                          │
└─────────────────────────────────────────────────────────────────┘
```

## 사용법

```bash
/auto                  # 자율 판단 루프 시작
/auto --max 5          # 최대 5개 작업 후 중단
/auto --dry-run        # 판단만 보여주고 실행 안함
```

## 핵심 원리

### 1. 상태 분석 (What's happening?)

```
현재 상태 수집
    │
    ├─ Git 상태
    │    - 현재 브랜치
    │    - 커밋되지 않은 변경
    │    - 푸시되지 않은 커밋
    │    - 충돌 여부
    │
    ├─ 코드 상태
    │    - 테스트 통과 여부
    │    - 린트 에러
    │    - 빌드 상태
    │
    ├─ 프로젝트 상태
    │    - 열린 이슈
    │    - 대기 중인 PR
    │    - TodoWrite 미완료 항목
    │    - PRD 미구현 체크박스
    │
    └─ 세션 상태
         - 방금 한 작업
         - 사용자의 마지막 요청
         - 진행 중이던 작업
```

### 2. 작업 판단 (What should I do next?)

```
상태 분석 결과
    │
    ▼
┌─────────────────────────────────────────┐
│  판단 기준 (우선순위)                    │
├─────────────────────────────────────────┤
│  1. 긴급: 빌드 깨짐, 테스트 실패        │
│  2. 진행중: 방금 하던 작업 완료         │
│  3. 대기중: PR 리뷰, 이슈 해결          │
│  4. 계획됨: Todo, PRD 체크박스          │
│  5. 개선: 리팩토링, 문서화              │
└─────────────────────────────────────────┘
    │
    ▼
다음 작업 결정
```

#### 판단 예시

| 상태 | 판단 | 실행 |
|------|------|------|
| 테스트 실패 중 | "테스트 수정 필요" | 자동 디버깅 + 수정 |
| 커밋 안 된 변경 있음 | "커밋 필요" | /commit 실행 |
| PR 리뷰 대기 | "PR 머지 가능" | /pr merge |
| 열린 이슈 있음 | "이슈 해결 시작" | /issue fix #N |
| Todo 미완료 | "다음 Todo 진행" | 해당 작업 실행 |
| 모두 완료 | "할 일 없음" | 루프 종료 |

### 3. 자동 실행 (Just do it)

```
판단된 작업
    │
    ▼
┌─────────────────────────────────────────┐
│  실행 (사용자 확인 없음)                 │
│                                         │
│  - /work --auto 호출                    │
│  - 또는 직접 작업 수행                  │
│  - 에러 시 자동 복구 시도               │
└─────────────────────────────────────────┘
    │
    ▼
완료 → 1단계(상태 분석)로 복귀
```

## 실행 흐름

```
/auto 실행
    │
    ▼
┌─────────────────────────────────────────┐
│  [1] 상태 분석                           │
│      "현재 상황이 어떻지?"               │
└─────────────────────────────────────────┘
    │
    ▼
┌─────────────────────────────────────────┐
│  [2] 판단                                │
│      "다음에 뭘 해야 하지?"              │
│                                         │
│      → 테스트 실패 중이네               │
│      → 이걸 먼저 고쳐야겠다             │
└─────────────────────────────────────────┘
    │
    ▼
┌─────────────────────────────────────────┐
│  [3] 실행                                │
│      "테스트 수정 시작"                  │
│                                         │
│      ▶ 원인 분석...                     │
│      ▶ 코드 수정...                     │
│      ▶ 테스트 재실행... ✓               │
│      ▶ 커밋... ✓                        │
└─────────────────────────────────────────┘
    │
    ▼
┌─────────────────────────────────────────┐
│  [4] 반복 판단                           │
│      "또 할 거 있나?"                    │
│                                         │
│      - 할 일 있음 → [1]로 복귀          │
│      - 할 일 없음 → 종료                │
│      - 중단 신호 → 종료                 │
└─────────────────────────────────────────┘
```

## 출력 예시

```
🤖 /auto - 자율 판단 모드 시작

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔍 상태 분석 중...
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   Git: feat/login 브랜치, 3개 파일 수정됨
   테스트: 2개 실패 ⚠️
   이슈: #45 (open), #46 (open)
   Todo: 3개 미완료

💭 판단: 테스트 실패 → 우선 수정 필요

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚡ 실행: 테스트 수정
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   ▶ 실패 원인 분석... src/auth/login.py:45
   ▶ 코드 수정... ✓
   ▶ 테스트 재실행... ✓ 12/12 통과
   ▶ 커밋... ✓ fix: 로그인 테스트 수정

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔍 상태 분석 중...
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   Git: 3개 파일 수정됨 (커밋 완료)
   테스트: ✓ 통과
   이슈: #45 (open), #46 (open)

💭 판단: 커밋됨, 푸시 필요 → PR 생성

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚡ 실행: PR 생성
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   ▶ 푸시... ✓
   ▶ PR 생성... ✓ #47

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔍 상태 분석 중...
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   이슈: #45 (open) - 로그인 기능 추가

💭 판단: 이슈 #45 해결 가능 → 작업 시작

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚡ 실행: 이슈 #45 해결
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   ▶ 분석... ✓
   ▶ 브랜치 생성... feat/issue-45
   ▶ TDD 구현...
   ...

(사용자가 메시지 입력)

⏹️ 중단됨. 현재 작업 완료 후 종료합니다.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 세션 요약
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   실행된 작업: 3개
   ✓ 테스트 수정
   ✓ PR #47 생성
   ✓ 이슈 #45 진행 중 (70%)

   다음 세션에서 계속: /auto --resume
```

## /work --auto와의 차이

| 항목 | `/work --auto "작업"` | `/auto` |
|------|----------------------|---------|
| 작업 지정 | 사용자가 지정 | AI가 판단 |
| 실행 범위 | 지정된 1개 작업 | 자동 연속 |
| 판단 주체 | 사용자 | AI |
| 개입 필요 | 작업마다 지정 | 없음 (중단 전까지) |

```
/work --auto "로그인 기능"   ← 사용자: "이거 해"
/auto                        ← AI: "다음에 이거 해야겠다"
```

## 중단 방법

| 입력 | 동작 |
|------|------|
| 아무 메시지 | 현재 작업 완료 후 중단 |
| `중단` | 즉시 중단 |
| `일시정지` | 상태 저장 후 중단 |
| Ctrl+C | 강제 종료 |

## 옵션

| 옵션 | 설명 |
|------|------|
| `--max N` | 최대 N개 작업 후 중단 |
| `--dry-run` | 판단만 보여주고 실행 안함 |
| `--resume` | 이전 세션 재개 |
| `--verbose` | 상세 판단 과정 출력 |

## 안전장치

| 상황 | 동작 |
|------|------|
| main 브랜치 직접 수정 | 브랜치 생성 후 진행 |
| 위험한 작업 (force push 등) | 스킵 + 알림 |
| 3회 연속 실패 | 루프 중단 + 수동 확인 요청 |
| 무한 루프 감지 | 자동 중단 |

---

**실행: `/auto`로 자율 판단 모드를 시작하세요.**
