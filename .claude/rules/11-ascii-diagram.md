# ASCII 다이어그램 규칙 — 터미널 환경 필수

**트리거**: 계획 수립, 설계 문서, 아키텍처 설명 등 다이어그램이 필요한 모든 상황

## 핵심 원칙

터미널(VSCode 통합 터미널)에서 Mermaid/PNG 이미지는 인라인 표시 불가. **모든 다이어그램은 ASCII art로 직접 출력한다.**

## 필수 적용 대상

| 대상 | ASCII 필수 |
|------|:----------:|
| Phase 1 계획 문서 (`docs/01-plan/`) | O |
| Phase 2 설계 문서 (`docs/02-design/`) | O |
| 아키텍처 설명 (사용자 응답) | O |
| 워크플로우/흐름도 | O |
| UI 레이아웃/와이어프레임 (터미널 응답) | O |
| PRD/문서의 UI 목업 | X (--mockup --bnw 사용) |

## 적용 제외 대상 (--mockup --bnw 사용)

아래 컨텍스트에서는 ASCII 대신 `--mockup --bnw`로 HTML 목업을 생성한다:

| 대상 | 처리 방식 |
|------|-----------|
| PRD 내 UI 화면 목업 | `--mockup --bnw` (designer 에이전트 + frontend-design 플러그인) |
| 최종 보고서/이해관계자 전달물의 시각화 | `--mockup --bnw` |
| 화면 설계 목업 (docs/mockups/) | `--mockup --bnw` |

**구분 원칙**: 터미널에서 즉시 확인하는 기술 다이어그램 → ASCII / 문서로 저장·전달되는 UI 목업 → `--mockup --bnw`

## ASCII 다이어그램 스타일 가이드

### Flowchart (흐름도)

```
                  +------------------+
                  |   사용자 요청     |
                  +--------+---------+
                           |
                           v
                  +--------+---------+
                  |   복잡도 판단     |
                  +--+-----+------+--+
                     |     |      |
            0-1      |  2-3|   4-5|
                     v     v      v
               +-----+ +------+ +------+
               |LIGHT| |STAND.| |HEAVY |
               +--+--+ +--+---+ +--+---+
                  |        |        |
                  v        v        v
               [단일]  [루프]   [병렬]
```

### Sequence (시퀀스)

```
  User        Lead       Planner    Executor    Architect
   |            |            |           |           |
   |--요청----->|            |           |           |
   |            |--계획----->|           |           |
   |            |<--plan.md--|           |           |
   |            |--구현----------------->|           |
   |            |<--완료-----------------|           |
   |            |--검증----------------------------->|
   |            |<--APPROVE--------------------------|
   |<--완료-----|            |           |           |
```

### Tree (트리 구조)

```
  src/
  ├── agents/
  │   ├── config.py
  │   ├── parallel_workflow.py
  │   └── teams/
  │       ├── coordinator.py
  │       ├── base_team.py
  │       └── dev_team.py
  └── lib/
      ├── gmail/
      └── slack/
```

### Table (데이터 비교)

```
  +----------+--------+---------+--------+
  | 모드     | Phase2 | QA 횟수 | 검증   |
  +----------+--------+---------+--------+
  | LIGHT    | 스킵   | 1회     | Arch.  |
  | STANDARD | 설계   | 3회     | +CR    |
  | HEAVY    | 상세   | 5회     | +CR    |
  +----------+--------+---------+--------+
```

### Component (UI 와이어프레임)

```
  +------------------------------------------+
  | [Logo]        Navigation          [User] |
  +------------------------------------------+
  |          |                               |
  | Sidebar  |       Main Content            |
  |          |                               |
  | [Menu1]  |  +-------------------------+ |
  | [Menu2]  |  |     Card Component      | |
  | [Menu3]  |  |  Title: ...             | |
  |          |  |  Description: ...       | |
  |          |  |  [Action Button]        | |
  |          |  +-------------------------+ |
  |          |                               |
  +----------+-------------------------------+
```

## 금지 사항

- 계획/설계 문서에 Mermaid 코드 블록 사용 금지 (터미널에서 렌더링 불가)
- 다이어그램을 PNG/SVG 파일로만 제공하고 끝내기 금지
- 텍스트 설명만으로 복잡한 흐름을 대체하기 금지 (반드시 ASCII로 시각화)

## Mermaid 병행 허용 조건

ASCII 다이어그램을 **반드시 먼저** 출력한 후, 추가로 `.md` 파일에 Mermaid 블록을 포함하는 것은 허용.
단, ASCII가 주(primary), Mermaid가 부(supplementary).
