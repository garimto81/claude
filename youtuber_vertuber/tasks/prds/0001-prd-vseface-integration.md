# VSeeFace ë²„íŠœë²„ ê¸°ëŠ¥ í†µí•© PRD

**ë²ˆí˜¸**: PRD-0001
**ì‘ì„±ì¼**: 2026-01-04
**ìµœì¢… ìˆ˜ì •**: 2026-01-06
**ì‘ì„±ì**: Claude (AI Assistant)
**ìš°ì„ ìˆœìœ„**: High
**ìƒíƒœ**: In Progress
**ë²„ì „**: 2.0.0

---

## 1. ê°œìš”

### ë¬¸ì œ ì •ì˜
í˜„ì¬ youtuber í”„ë¡œì íŠ¸ì˜ OBS ì˜¤ë²„ë ˆì´ì—ì„œ "ì–¼êµ´ ìº " ì˜ì—­(320x180)ì´ ë¹„ì–´ìˆì–´ ë°©ì†¡ì— ê°œì„±ê³¼ ìƒë™ê°ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. AI ì½”ë”© ìŠ¤íŠ¸ë¦¬ë°ì´ë¼ëŠ” ë…íŠ¹í•œ ì»¨ì…‰ì—ë„ ë¶ˆêµ¬í•˜ê³ , ì‹œì²­ìê°€ ìŠ¤íŠ¸ë¦¬ë¨¸ì™€ ê°ì •ì ìœ¼ë¡œ ì—°ê²°ë˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.

### ì œì•ˆ ì†”ë£¨ì…˜
VSeeFaceì™€ VMC Protocolì„ í™œìš©í•˜ì—¬ ì›¹ìº  ê¸°ë°˜ ë²„íŠœë²„ ì•„ë°”íƒ€ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í‘œì‹œí•˜ê³ , í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ í‘œì •ì„ ì œì–´í•  ìˆ˜ ìˆëŠ” ì•„ë°”íƒ€ ì‹œìŠ¤í…œì„ êµ¬í˜„í•©ë‹ˆë‹¤.

> **v2.0.0 ë²”ìœ„ ì¶•ì†Œ**: GitHub Webhook ì—°ë™ê³¼ YouTube ì±„íŒ… ì—°ë™ì€ `archive/` í´ë”ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤. í˜„ì¬ ë²„ì „ì€ VSeeFace ì•„ë°”íƒ€ í™œì„±í™” ë° VMC Protocol ì—°ë™ì— ì§‘ì¤‘í•©ë‹ˆë‹¤.

### ì˜ˆìƒ íš¨ê³¼
- ì‹œì²­ì ëª°ì…ë„ 30% í–¥ìƒ (í‰ê·  ì‹œì²­ ì‹œê°„ ì¦ê°€)
- ì±„íŒ… ì°¸ì—¬ë„ 50% ì¦ê°€ (ë©”ì‹œì§€ë‹¹ ë°˜ì‘ë¥ )
- êµ¬ë…ì ì „í™˜ìœ¨ 20% ê°œì„  (ì²« ë°©ì†¡ â†’ êµ¬ë…)
- ë¸Œëœë“œ ì°¨ë³„í™” (AI ì½”ë”© + ë²„íŠœë²„ ìœµí•© ì½˜í…ì¸ )

---

## 2. ëª©í‘œ

### ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œ
1. **ì‹œì²­ì ì°¸ì—¬ë„ í–¥ìƒ**: ì•„ë°”íƒ€ ë°˜ì‘ì„ í†µí•´ GitHub í™œë™ì„ ì§ê´€ì ìœ¼ë¡œ ì‹œê°í™”í•˜ì—¬ ì‹œì²­ì ì´í•´ë„ ì¦ëŒ€
2. **êµ¬ë…ì ì¦ê°€**: ë…íŠ¹í•œ ë²„íŠœë²„ + ì½”ë”© ìŠ¤íŠ¸ë¦¬ë° ì½˜ì…‰íŠ¸ë¡œ ë¸Œëœë“œ ì°¨ë³„í™”
3. **ì½˜í…ì¸  í’ˆì§ˆ ê°œì„ **: ìƒë™ê° ìˆëŠ” ë°©ì†¡ìœ¼ë¡œ ì‹œì²­ì ë§Œì¡±ë„ í–¥ìƒ

### ì‚¬ìš©ì ëª©í‘œ
1. **ìŠ¤íŠ¸ë¦¬ë¨¸**: ì›¹ìº ë§Œìœ¼ë¡œ ì‰½ê²Œ ë²„íŠœë²„ ë°©ì†¡ ì‹œì‘ (VSeeFace ìë™ ì—°ë™)
2. **ì‹œì²­ì**: GitHub ì´ë²¤íŠ¸ë¥¼ ì•„ë°”íƒ€ ë°˜ì‘ìœ¼ë¡œ ì‹¤ì‹œê°„ í™•ì¸ (Commit â†’ ê¸°ì¨ í‘œì •)
3. **ì±„íŒ… ì°¸ì—¬ì**: ì¹­ì°¬/ì§ˆë¬¸ ì‹œ ì•„ë°”íƒ€ê°€ ë°˜ì‘í•˜ì—¬ ì†Œí†µê° ì¦ëŒ€

---

## 3. ëŒ€ìƒ ì‚¬ìš©ì

**ì£¼ìš” ì‚¬ìš©ì ìœ í˜•**: ë³µí•© (ìŠ¤íŠ¸ë¦¬ë¨¸ + YouTube ì‹œì²­ì)

**ìŠ¤íŠ¸ë¦¬ë¨¸ (ë³¸ì¸)**:
- ê¸°ìˆ  ìˆ˜ì¤€: ì¤‘ê¸‰ (Node.js, TypeScript ê°œë°œ ê°€ëŠ¥)
- ë‹ˆì¦ˆ: ë°©ì†¡ í’ˆì§ˆ í–¥ìƒ, ìë™í™”ëœ ì•„ë°”íƒ€ ê´€ë¦¬
- ì˜ˆìƒ ì‚¬ìš©ì ìˆ˜: 1ëª… (ë³¸ì¸)

**YouTube ì‹œì²­ì**:
- ê¸°ìˆ  ìˆ˜ì¤€: ì´ˆê¸‰ (ê¸°ìˆ  ì§€ì‹ ê±°ì˜ ì—†ìŒ)
- ë‹ˆì¦ˆ: ì¬ë¯¸ìˆê³  ì´í•´í•˜ê¸° ì‰¬ìš´ ì½”ë”© ë°©ì†¡
- ì˜ˆìƒ ì‚¬ìš©ì ìˆ˜: 100-1000ëª… (ì´ˆê¸° ëª©í‘œ)

---

## 4. ì‚¬ìš©ì ìŠ¤í† ë¦¬

### ìŠ¤í† ë¦¬ 1: ì›¹ìº  ì–¼êµ´ ì¶”ì 
```
As a ìŠ¤íŠ¸ë¦¬ë¨¸,
I want VSeeFaceê°€ ì›¹ìº ìœ¼ë¡œ ë‚´ ì–¼êµ´ì„ ì¶”ì í•˜ì—¬ ì•„ë°”íƒ€ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì›€ì§ì´ê²Œ í•˜ê³  ì‹¶ë‹¤
So that ì‹œì²­ìì—ê²Œ ìƒë™ê° ìˆëŠ” ë°©ì†¡ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤

Acceptance Criteria:
- Given VSeeFaceê°€ ì‹¤í–‰ ì¤‘ì´ê³  ì›¹ìº ì´ ì—°ê²°ë˜ì–´ ìˆì„ ë•Œ
- When ìŠ¤íŠ¸ë¦¬ë¨¸ê°€ ê³ ê°œë¥¼ ë„ë•ì´ê±°ë‚˜ í‘œì •ì„ ë°”ê¾¸ë©´
- Then ì•„ë°”íƒ€ê°€ 1ì´ˆ ì´ë‚´ì— ë™ì¼í•œ ì›€ì§ì„ì„ ë°˜ì˜í•œë‹¤
- And VMC Protocolì„ í†µí•´ BlendShape ë°ì´í„°ê°€ 30fpsë¡œ ìˆ˜ì‹ ëœë‹¤
```

### ìŠ¤í† ë¦¬ 2: GitHub ì´ë²¤íŠ¸ ë°˜ì‘
```
As a ì‹œì²­ì,
I want Commitì´ë‚˜ PRì´ ì„±ê³µí–ˆì„ ë•Œ ì•„ë°”íƒ€ê°€ ê¸°ìœ í‘œì •ì„ ì§€ìœ¼ë©´
So that ê°œë°œ ì§„í–‰ ìƒí™©ì„ ì§ê´€ì ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆë‹¤

Acceptance Criteria:
- Given GitHub Webhookì´ ì„¤ì •ë˜ì–´ ìˆì„ ë•Œ
- When Commitì´ pushë˜ê±°ë‚˜ PRì´ mergedë˜ë©´
- Then ì•„ë°”íƒ€ê°€ 2-3ì´ˆê°„ "happy" í‘œì •ì„ ì§“ëŠ”ë‹¤
- And OBS ì˜¤ë²„ë ˆì´ì— ë°˜ì‘ ì•„ì´ì½˜(ğŸ‰)ì´ í‘œì‹œëœë‹¤
- And ë°˜ì‘ ì§€ì—°ì‹œê°„ì€ 1ì´ˆ ë¯¸ë§Œì´ë‹¤
```

### ìŠ¤í† ë¦¬ 3: ì±„íŒ… ìƒí˜¸ì‘ìš©
```
As a ì‹œì²­ì,
I want ì±„íŒ…ìœ¼ë¡œ ì¹­ì°¬("ëŒ€ë°•!", "ë©‹ì ¸ìš”!")ì„ ë³´ë‚´ë©´ ì•„ë°”íƒ€ê°€ ê¸°ë»í•˜ë©´
So that ìŠ¤íŠ¸ë¦¬ë¨¸ì™€ ë” ê°€ê¹Œì›Œì§„ ëŠë‚Œì„ ë°›ëŠ”ë‹¤

Acceptance Criteria:
- Given youtuber_chatbotì´ ì‹¤í–‰ ì¤‘ì´ê³  ê°ì • ë¶„ì„ì´ í™œì„±í™”ë˜ì–´ ìˆì„ ë•Œ
- When ì‹œì²­ìê°€ ê¸ì •ì ì¸ ì±„íŒ… ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë©´
- Then youtuber_chatbotì´ ê°ì •ì„ ë¶„ì„í•˜ì—¬ "positive" â†’ "happy" í‘œì •ìœ¼ë¡œ ë³€í™˜í•œë‹¤
- And ì•„ë°”íƒ€ê°€ 2ì´ˆ ì´ë‚´ì— ë°˜ì‘í•œë‹¤
- And ë„ˆë¬´ ë¹ˆë²ˆí•œ ë°˜ì‘ì€ ë°©ì§€í•œë‹¤ (ìµœì†Œ 5ì´ˆ ê°„ê²©)
```

---

## 5. ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

### 5.1 í•„ìˆ˜ ê¸°ëŠ¥ (Must Have)

#### 1. VSeeFace ì›¹ìº  ì–¼êµ´ ì¶”ì 
- ì„¤ëª…: VSeeFaceì™€ VMC Protocolì„ í†µí•´ ì›¹ìº  ì–¼êµ´ ì¶”ì  ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ìˆ˜ì‹ 
- ìˆ˜ë½ ê¸°ì¤€:
  - [x] VSeeFace ì„¤ì¹˜ ë° VMC Protocol í™œì„±í™” (Port 39539)
  - [x] VMC Client êµ¬í˜„ (Node.js osc ë¼ì´ë¸ŒëŸ¬ë¦¬)
  - [x] BlendShape ë°ì´í„° ìˆ˜ì‹  (Joy, Angry, Sorrow, Fun)
  - [x] ì—°ê²° ìƒíƒœ ëª¨ë‹ˆí„°ë§ (5ì´ˆë§ˆë‹¤ health check)

#### 2. OBS Browser Source ì˜¤ë²„ë ˆì´
- ì„¤ëª…: 320x180 "ì–¼êµ´ ìº " ì˜ì—­ì— VSeeFace ì•„ë°”íƒ€ë¥¼ í‘œì‹œ
- ìˆ˜ë½ ê¸°ì¤€:
  - [x] VSeeFace Window Captureë¥¼ OBSì— ì¶”ê°€
  - [x] ë°°ê²½ íˆ¬ëª… ì²˜ë¦¬ (Chroma Key ë˜ëŠ” VSeeFace íˆ¬ëª… ë°°ê²½)
  - [x] 1920x1080 ë ˆì´ì•„ì›ƒì—ì„œ ê¹¨ì§ ì—†ì´ í‘œì‹œ
  - [x] OBS Browser Sourceë¡œ ë°˜ì‘ ì•„ì´ì½˜ ì˜¤ë²„ë ˆì´

#### ~~3. GitHub Webhook ì—°ë™ (ì•„ë°”íƒ€ í‘œì • ë³€ê²½)~~ â†’ `archive/`
> **ì•„ì¹´ì´ë¹™ë¨ (v2.0.0)**: ì´ ê¸°ëŠ¥ì€ ë²”ìœ„ ì¶•ì†Œë¡œ ì¸í•´ `archive/stream-server/`ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤.

#### ~~4. youtuber_chatbot ì—°ë™ (ì±„íŒ… ê°ì • ë¶„ì„)~~ â†’ `archive/`
> **ì•„ì¹´ì´ë¹™ë¨ (v2.0.0)**: ì´ ê¸°ëŠ¥ì€ ë²”ìœ„ ì¶•ì†Œë¡œ ì¸í•´ `archive/stream-server/`ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤.

### 5.2 ì„ íƒ ê¸°ëŠ¥ (Nice to Have)

#### 1. ì•„ë°”íƒ€ êµì²´ UI
- ì„¤ëª…: ì›¹ UIì—ì„œ VRM íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì—¬ ì•„ë°”íƒ€ ë³€ê²½
- ìš°ì„ ìˆœìœ„: v2 (Phase 5)

#### 2. í‘œì • ì»¤ìŠ¤í„°ë§ˆì´ì§•
- ì„¤ëª…: GitHub ì´ë²¤íŠ¸ë³„ í‘œì • ë§¤í•‘ì„ ì„¤ì • íŒŒì¼ì—ì„œ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- ìš°ì„ ìˆœìœ„: v2 (Phase 5)

#### 3. TTS ìŒì„± í•©ì„±
- ì„¤ëª…: ì±„íŒ… ë©”ì‹œì§€ë¥¼ TTSë¡œ ë³€í™˜í•˜ì—¬ ì•„ë°”íƒ€ ì… ì›€ì§ì„ê³¼ ë™ê¸°í™”
- ìš°ì„ ìˆœìœ„: v3 (ë¯¸ì •)

---

## 6. ë²”ìœ„ ì œì™¸ (Out of Scope)

ëª…í™•íˆ ì œì™¸ë˜ëŠ” í•­ëª©:
- **TTS ìŒì„± í•©ì„±** (v1ì—ì„œ ì œì™¸, v3 ê²€í† )
- **ë³µì¡í•œ 3D í™˜ê²½/ë°°ê²½** (VSeeFace ê¸°ë³¸ ë°°ê²½ë§Œ ì‚¬ìš©)
- **ëª¨ë°”ì¼ ì§€ì›** (ë°ìŠ¤í¬í†± ë°©ì†¡ë§Œ)
- **ì‹¤ì‹œê°„ ì•„ë°”íƒ€ ì—ë””íŒ…** (VRoid Studio ë³„ë„ ì‚¬ìš©)
- **ë©€í‹° ì•„ë°”íƒ€ ë™ì‹œ í‘œì‹œ** (1ê°œ ì•„ë°”íƒ€ë§Œ)
- **ì•„ë°”íƒ€ í¬ì¦ˆ ì»¤ìŠ¤í„°ë§ˆì´ì§•** (VSeeFace ê¸°ë³¸ í¬ì¦ˆë§Œ)

---

## 7. ë°ì´í„° ìš”êµ¬ì‚¬í•­

### ì…ë ¥ ë°ì´í„°
- **VMC Protocol ë°ì´í„°**: BlendShapes (Joy, Angry, Sorrow, Fun ë“±), Bone ìœ„ì¹˜/íšŒì „
- **GitHub Webhook**: Commit, PR, Issue, CI ì´ë²¤íŠ¸ í˜ì´ë¡œë“œ
- **YouTube ì±„íŒ… ë©”ì‹œì§€**: ë©”ì‹œì§€ ID, ì‘ì„±ì, ë‚´ìš©, íƒ€ì„ìŠ¤íƒ¬í”„

### ì¶œë ¥ ë°ì´í„°
- **WebSocket ë©”ì‹œì§€**: VTuber í‘œì • ë³€ê²½ ì´ë²¤íŠ¸ (type: 'vtuber:expression')
- **OBS ì˜¤ë²„ë ˆì´ ë°ì´í„°**: ë°˜ì‘ ì•„ì´ì½˜, ì• ë‹ˆë©”ì´ì…˜ íŠ¸ë¦¬ê±°

### ì €ì¥/ë³´ì¡´ ìš”êµ¬ì‚¬í•­
- **ì•„ë°”íƒ€ ì„¤ì •**: VRM íŒŒì¼ ê²½ë¡œ, ì„ íƒëœ ì•„ë°”íƒ€ ì •ë³´ (JSON íŒŒì¼)
- **í‘œì • ë§¤í•‘**: GitHub ì´ë²¤íŠ¸ â†’ í‘œì • ë§¤í•‘ í…Œì´ë¸” (JSON íŒŒì¼)
- **ë¡œê·¸**: VMC ì—°ê²° ìƒíƒœ, í‘œì • ë³€ê²½ ì´ë ¥ (ì„ íƒì‚¬í•­, v2)

---

## 8. UI/UX ê³ ë ¤ì‚¬í•­

### í™”ë©´ êµ¬ì„±

**OBS ì˜¤ë²„ë ˆì´ ë ˆì´ì•„ì›ƒ** (1920x1080):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [í™”ë©´ ìº¡ì²˜ - OBS Window Capture]               â”‚   ì•„ë°”íƒ€ í”„ë ˆì„    â”‚
â”‚         (1600 x 900)                         â”‚   (320 x 180)      â”‚
â”‚                                              â”‚                    â”‚
â”‚                                              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                              â”‚  â”‚  VSeeFace    â”‚  â”‚
â”‚                                              â”‚  â”‚  ì•„ë°”íƒ€      â”‚  â”‚
â”‚                                              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                              â”‚  ì—°ê²° ìƒíƒœ: ğŸŸ¢    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  Active Projects   â”‚
â”‚ â”‚ í”„ë¡œì íŠ¸1 â”‚ â”‚ í”„ë¡œì íŠ¸2 â”‚ â”‚ í”„ë¡œì íŠ¸3 â”‚      â”‚   (320 x 900)      â”‚
â”‚ â”‚  í™œë™    â”‚ â”‚  í™œë™    â”‚ â”‚  í™œë™    â”‚      â”‚                    â”‚
â”‚ â”‚  ğŸ‰ ë°˜ì‘ â”‚ â”‚          â”‚ â”‚          â”‚      â”‚                    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚                    â”‚
â”‚    ë©€í‹° í”„ë¡œì íŠ¸ í™œë™ ì¹´ë“œ (1600 x 180)      â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì£¼ìš” ì¸í„°ë™ì…˜

1. **ì•„ë°”íƒ€ ì–¼êµ´ ì¶”ì **: ìŠ¤íŠ¸ë¦¬ë¨¸ ì–¼êµ´ ì›€ì§ì„ â†’ ì•„ë°”íƒ€ ì‹¤ì‹œê°„ ë°˜ì˜ (30fps)
2. **GitHub ë°˜ì‘ ì• ë‹ˆë©”ì´ì…˜**:
   - Commit â†’ í”„ë¡œì íŠ¸ ì¹´ë“œì— ğŸ‰ ì•„ì´ì½˜ 2ì´ˆê°„ í‘œì‹œ
   - ì•„ë°”íƒ€ í‘œì • "happy" (2ì´ˆ)
3. **ì±„íŒ… ë°˜ì‘ ì• ë‹ˆë©”ì´ì…˜**:
   - ê¸ì •ì  ì±„íŒ… â†’ ì•„ë°”íƒ€ í‘œì • "happy" (2ì´ˆ)
   - ìš°ì¸¡ ìƒë‹¨ì— ğŸ’¬ ì•„ì´ì½˜ ê¹œë¹¡ì„

### ë°˜ì‘í˜•/ì ‘ê·¼ì„±

- **ë°˜ì‘í˜•**: ê³ ì • ë ˆì´ì•„ì›ƒ (1920x1080ë§Œ ì§€ì›, OBS ë°©ì†¡ìš©)
- **ì ‘ê·¼ì„±**: ì‹œê°ì  ë°˜ì‘ ìš°ì„  (TTS ìŒì„±ì€ v3ì—ì„œ ê³ ë ¤)
- **ì„±ëŠ¥**: 60fps OBS ë°©ì†¡ ìœ ì§€ (ì•„ë°”íƒ€ 30fps, ì˜¤ë²„ë ˆì´ 60fps)

---

## 9. ê¸°ìˆ  ê³ ë ¤ì‚¬í•­

### 9.1 ê¸°ìˆ  ìŠ¤íƒ

| ì˜ì—­ | ê¸°ìˆ  | ë²„ì „ | ë¹„ê³  |
|------|------|------|------|
| **VTuber ì†Œí”„íŠ¸ì›¨ì–´** | VSeeFace | v1.13.38+ | VMC Protocol ì§€ì› |
| **ì•„ë°”íƒ€ í¬ë§·** | VRM | 0.0 / 1.0 | VRoid Hub í˜¸í™˜ |
| **VMC Protocol** | osc (Node.js) | ^2.4.0 | UDP í†µì‹  |
| **WebSocket** | ws (ê¸°ì¡´) | 8.18.0 | ê¸°ì¡´ youtuber ì‹œìŠ¤í…œ |
| **ì±„íŒ… ë¶„ì„** | youtuber_chatbot | 1.0.0 | Ollama + Qwen 3 |
| **OBS ì—°ë™** | obs-websocket-js | 5.0.6 | ê¸°ì¡´ ì‹œìŠ¤í…œ í™œìš© |

### 9.2 íŒ¨í‚¤ì§€ êµ¬ì¡° (Monorepo) - v2.0.0 í˜„ì¬

```
youtuber_vertuber/
  packages/
    vtuber/                        # VMC Client íŒ¨í‚¤ì§€
      src/
        vmc-client.ts              # VMC Protocol UDP í´ë¼ì´ì–¸íŠ¸
        avatar-controller.ts       # ìš°ì„ ìˆœìœ„ í ê¸°ë°˜ í‘œì • ì œì–´
        reaction-mapper.ts         # ì´ë²¤íŠ¸ â†’ í‘œì • ë§¤í•‘ ë¡œì§
        types.ts                   # VTuber ì „ìš© íƒ€ì… ì •ì˜
        index.ts                   # íŒ¨í‚¤ì§€ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
      tests/
        vmc-client.test.ts         # VMC í´ë¼ì´ì–¸íŠ¸ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
        avatar-controller.test.ts  # AvatarController ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
        reaction-mapper.test.ts    # ReactionMapper ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
      package.json                 # ì˜ì¡´ì„±: osc, @youtuber/shared

    shared/                        # ê³µìœ  íƒ€ì… ì •ì˜
      src/
        types/
          index.ts                 # VTuber ë©”ì‹œì§€ íƒ€ì…

  archive/                         # ì•„ì¹´ì´ë¹™ëœ ì½”ë“œ (git ì œì™¸)
    stream-server/                 # WebSocket, GitHub Webhook, OBS Overlay
```

### 9.3 WebSocket ë©”ì‹œì§€ íƒ€ì… í™•ì¥

**packages/shared/src/types/index.ts ìˆ˜ì •**:
```typescript
export type MessageType =
  // ... ê¸°ì¡´ íƒ€ì…
  | 'vtuber:expression'    // ì•„ë°”íƒ€ í‘œì • ë³€ê²½ íŠ¸ë¦¬ê±°
  | 'vtuber:status'        // VSeeFace ì—°ê²° ìƒíƒœ
  | 'vtuber:tracking';     // ì›¹ìº  ì¶”ì  ë°ì´í„° (ì„ íƒì‚¬í•­)

export type SubscriptionChannel =
  // ... ê¸°ì¡´ ì±„ë„
  | 'vtuber';

export interface VTuberExpressionPayload {
  expression: 'happy' | 'surprised' | 'neutral' | 'focused' | 'sorrow';
  duration: number;  // ms (ì§€ì† ì‹œê°„)
  trigger: 'commit' | 'pr_merged' | 'test_passed' | 'test_failed' | 'chat';
  metadata?: {
    repo?: string;
    message?: string;
  };
}

export interface VTuberStatusPayload {
  connected: boolean;
  vmcHost: string;
  vmcPort: number;
  avatarName?: string;
  lastUpdate: string;
}
```

### 9.4 GitHub Webhook ì—°ë™

**packages/stream-server/src/github-webhook.ts ìˆ˜ì •**:
```typescript
function handlePush(payload: GitHubPushEvent): void {
  const commits = payload.commits || [];
  const repo = payload.repository.name;

  commits.forEach((commit) => {
    // ... ê¸°ì¡´ ë¡œì§ (CommitPayload ìƒì„±, ë¸Œë¡œë“œìºìŠ¤íŠ¸)

    // [ì‹ ê·œ] ì•„ë°”íƒ€ ë°˜ì‘ ì¶”ê°€
    wsManager.broadcast('vtuber', {
      type: 'vtuber:expression',
      payload: {
        expression: 'happy',
        duration: 2000,
        trigger: 'commit',
        metadata: {
          repo,
          message: commit.message.split('\n')[0]
        }
      } as VTuberExpressionPayload,
      timestamp: new Date().toISOString(),
    });

    console.log(`[VTuber] Triggered happy expression for commit: ${repo}`);
  });
}

// handlePullRequest, handleCheckRun í•¨ìˆ˜ë„ ìœ ì‚¬í•˜ê²Œ ìˆ˜ì •
```

### 9.5 ë°˜ì‘ ë§¤í•‘ í…Œì´ë¸”

| GitHub ì´ë²¤íŠ¸ | í‘œì • | ì§€ì†ì‹œê°„ | ìš°ì„ ìˆœìœ„ | Phase |
|--------------|------|---------|---------|-------|
| Commit | happy | 2ì´ˆ | Must Have | Phase 3 |
| PR Opened | neutral | 2ì´ˆ | Nice to Have | Phase 3 |
| PR Merged | surprised (ê¸°ì¨) | 3ì´ˆ | Must Have | Phase 3 |
| Test Passed (CI) | focused (1ì´ˆ) â†’ happy (2ì´ˆ) | 3ì´ˆ | Must Have | Phase 3 |
| Test Failed (CI) | sorrow | 3ì´ˆ | Nice to Have | Phase 3 |
| Issue Closed | neutral | 2ì´ˆ | Nice to Have | Phase 4 |

### 9.6 VMC Protocol ì—°ë™

**packages/vtuber/src/vmc-client.ts êµ¬í˜„ ì˜ˆì‹œ**:
```typescript
import osc from 'osc';

export class VMCClient {
  private udpPort: osc.UDPPort;
  private connected: boolean = false;

  constructor(
    private host: string = 'localhost',
    private port: number = 39539
  ) {
    this.udpPort = new osc.UDPPort({
      localAddress: '0.0.0.0',
      localPort: 0,
      metadata: true
    });
  }

  async connect(): Promise<void> {
    return new Promise((resolve, reject) => {
      this.udpPort.open();
      this.udpPort.on('ready', () => {
        console.log('[VMC] UDP Port ready');
        this.connected = true;
        resolve();
      });
      this.udpPort.on('error', (err) => {
        console.error('[VMC] Error:', err);
        reject(err);
      });
    });
  }

  onBlendShapeUpdate(callback: (blendShapes: BlendShapeData) => void): void {
    this.udpPort.on('message', (oscMsg) => {
      if (oscMsg.address.startsWith('/VMC/Ext/Blend/Val')) {
        // BlendShape ë°ì´í„° íŒŒì‹±
        const blendShapeName = oscMsg.address.split('/').pop();
        const value = oscMsg.args[0];
        callback({ [blendShapeName]: value });
      }
    });
  }

  sendExpression(expression: string, value: number = 1.0): void {
    if (!this.connected) {
      console.warn('[VMC] Not connected, cannot send expression');
      return;
    }

    this.udpPort.send({
      address: `/VMC/Ext/Blend/Apply`,
      args: [
        { type: 's', value: expression },  // Joy, Angry, Sorrow, Fun
        { type: 'f', value }
      ]
    }, this.host, this.port);
  }

  disconnect(): void {
    this.udpPort.close();
    this.connected = false;
  }
}

export interface BlendShapeData {
  [key: string]: number;  // e.g., { "Joy": 0.8, "Angry": 0.0 }
}
```

### 9.7 VSeeFace ì—°ë™ ì„¤ê³„

**ì„¤ì¹˜ ë° ì„¤ì •**:
1. VSeeFace ë‹¤ìš´ë¡œë“œ: https://www.vseeface.icu/
2. VSeeFace ì‹¤í–‰ â†’ Settings â†’ General
3. VMC Protocol í™œì„±í™”:
   - Protocol: OSC
   - Port: 39539 (ê¸°ë³¸ê°’)
   - Enable Sending: ON
   - Enable Receiving: ON

**VRoid Hub ì•„ë°”íƒ€ ë‹¤ìš´ë¡œë“œ**:
1. VRoid Hub ë°©ë¬¸: https://hub.vroid.com/
2. ë¬´ë£Œ ë¼ì´ì„ ìŠ¤ ì•„ë°”íƒ€ ê²€ìƒ‰ (ê²€ìƒ‰ì–´: "programmer", "coder", "casual")
3. VRM íŒŒì¼ ë‹¤ìš´ë¡œë“œ (3ê°œ í›„ë³´ ì„ ì •)
4. VSeeFace â†’ Load Model â†’ VRM íŒŒì¼ ì„ íƒ

**VMC Client êµ¬í˜„**:
- Node.js osc ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
- BlendShape ë°ì´í„° ìˆ˜ì‹ : Joy, Angry, Sorrow, Fun, Blink ë“±
- 30fps ë°ì´í„° ìˆ˜ì‹  ëª©í‘œ

### 9.8 ì•„ë°”íƒ€ ë°˜ì‘ ì‹œìŠ¤í…œ

**ReactionMapper êµ¬í˜„** (packages/vtuber/src/reaction-mapper.ts):
```typescript
export class ReactionMapper {
  private static expressionMap = {
    commit: { expression: 'happy', duration: 2000 },
    pr_merged: { expression: 'surprised', duration: 3000 },
    test_passed: [
      { expression: 'focused', duration: 1000 },
      { expression: 'happy', duration: 2000 }
    ],
    test_failed: { expression: 'sorrow', duration: 3000 },
    chat_positive: { expression: 'happy', duration: 2000 },
  };

  static mapGitHubEvent(event: string): ExpressionSequence {
    return this.expressionMap[event] || { expression: 'neutral', duration: 1000 };
  }

  static mapChatEmotion(emotion: string): ExpressionSequence {
    if (emotion === 'positive' || emotion === 'excited') {
      return { expression: 'happy', duration: 2000 };
    } else if (emotion === 'curious') {
      return { expression: 'surprised', duration: 2000 };
    }
    return { expression: 'neutral', duration: 1000 };
  }
}
```

**ìš°ì„ ìˆœìœ„ í** (ë™ì‹œ ì´ë²¤íŠ¸ ì²˜ë¦¬):
- Commitê³¼ ì±„íŒ…ì´ ë™ì‹œ ë°œìƒ â†’ Commit ìš°ì„  (GitHub ì´ë²¤íŠ¸ > ì±„íŒ…)
- Test Passedê°€ ì§„í–‰ ì¤‘ â†’ ë‹¤ë¥¸ í‘œì • ìš”ì²­ ë¬´ì‹œ (í˜„ì¬ í‘œì • ì™„ë£Œ í›„ ì²˜ë¦¬)

### 9.9 ì™¸ë¶€ ì˜ì¡´ì„±

- **VSeeFace**: v1.13.38+ (ë¬´ë£Œ, Windows ì „ìš©)
- **osc (Node.js)**: ^2.4.0 (VMC Protocol í†µì‹ )
- **youtuber_chatbot**: Port 3002 (ê°ì • ë¶„ì„ API)
- **OBS Studio**: v28.0+ (WebSocket 4.9.1+)

### 9.10 ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­

- **VMC ë°ì´í„° ìˆ˜ì‹ **: 30fps (33ms ê°„ê²©)
- **GitHub â†’ ì•„ë°”íƒ€ ë°˜ì‘**: < 1ì´ˆ
- **ì±„íŒ… â†’ ì•„ë°”íƒ€ ë°˜ì‘**: < 2ì´ˆ (ê°ì • ë¶„ì„ í¬í•¨)
- **OBS ë°©ì†¡ í”„ë ˆì„ë¥ **: 60fps ìœ ì§€ (ì•„ë°”íƒ€ëŠ” 30fps, ì˜¤ë²„ë ˆì´ëŠ” 60fps)
- **ë©”ëª¨ë¦¬ ì‚¬ìš©**: packages/vtuber íŒ¨í‚¤ì§€ < 50MB

### 9.11 ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

- [x] **VMC Protocol**: ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ë§Œ í—ˆìš© (localhost:39539, ì™¸ë¶€ ì ‘ê·¼ ì°¨ë‹¨)
- [x] **GitHub Webhook**: ì„œëª… ê²€ì¦ (ê¸°ì¡´ ì‹œìŠ¤í…œ í™œìš©, HMAC SHA256)
- [x] **youtuber_chatbot API**: localhostë§Œ í—ˆìš© (Port 3002)
- [x] **ì…ë ¥ ê²€ì¦**: VRM íŒŒì¼ ì—…ë¡œë“œ ì‹œ íŒŒì¼ í¬ê¸° ì œí•œ (< 50MB)
- [x] **XSS ë°©ì§€**: OBS ì˜¤ë²„ë ˆì´ HTMLì—ì„œ ì‚¬ìš©ì ì…ë ¥ sanitize

---

## 10. ì„±ê³µ ì§€í‘œ

### ì •ëŸ‰ì  ì§€í‘œ

| ì§€í‘œ | ëª©í‘œê°’ | ì¸¡ì • ë°©ë²• |
|------|--------|----------|
| ì•„ë°”íƒ€ í‘œì‹œ ì•ˆì •ì„± | 99% | VMC ì—°ê²° ìœ ì§€ ì‹œê°„ / ì´ ë°©ì†¡ ì‹œê°„ |
| GitHub ë°˜ì‘ ì§€ì—°ì‹œê°„ | < 1ì´ˆ | Webhook ìˆ˜ì‹  â†’ í‘œì • ë³€ê²½ ì‹œê°„ |
| ì±„íŒ… ë°˜ì‘ ì§€ì—°ì‹œê°„ | < 2ì´ˆ | ë©”ì‹œì§€ â†’ ê°ì • ë¶„ì„ â†’ í‘œì • ë³€ê²½ |
| ì‹œì²­ì í‰ê·  ì‹œì²­ ì‹œê°„ | 30% ì¦ê°€ | YouTube Analytics (Before/After) |
| ì±„íŒ… ì°¸ì—¬ë„ | 50% ì¦ê°€ | ë©”ì‹œì§€ ìˆ˜ / ì‹œì²­ì ìˆ˜ |

### ì •ì„±ì  ì§€í‘œ

- ì‹œì²­ì í”¼ë“œë°±: "ì•„ë°”íƒ€ ë°˜ì‘ì´ ì¬ë¯¸ìˆë‹¤", "ì½”ë”© ê³¼ì •ì´ ì´í•´í•˜ê¸° ì‰¬ì›Œì¡Œë‹¤"
- ë°©ì†¡ ëª°ì…ë„: ì‹œì²­ìê°€ GitHub ì´ë²¤íŠ¸ë¥¼ ê¸°ë‹¤ë¦¬ë©° ì°¸ì—¬
- ë¸Œëœë“œ ì¸ì§€ë„: "AI ì½”ë”© ë²„íŠœë²„"ë¡œ ì°¨ë³„í™”

---

## 11. ë§ˆì¼ìŠ¤í†¤

| Phase | ì„¤ëª… | ìƒíƒœ | ì™„ë£Œ ê¸°ì¤€ |
|-------|------|------|----------|
| **Phase 1** | VSeeFace ê¸°ë³¸ ì—°ë™ | âœ… ì™„ë£Œ | VMC ë°ì´í„° ìˆ˜ì‹  í™•ì¸, packages/vtuber íŒ¨í‚¤ì§€ ìƒì„± |
| **Phase 2** | í‘œì • ì œì–´ ë° OBS | ğŸ”„ ì§„í–‰ì¤‘ | AvatarController, VSeeFace ì—°ê²° í…ŒìŠ¤íŠ¸ |
| ~~Phase 3~~ | ~~GitHub ì—°ë™~~ | â¸ï¸ ì•„ì¹´ì´ë¹™ | `archive/stream-server/`ë¡œ ì´ë™ |
| ~~Phase 4~~ | ~~ì±„íŒ… ìƒí˜¸ì‘ìš©~~ | â¸ï¸ ì•„ì¹´ì´ë¹™ | `archive/stream-server/`ë¡œ ì´ë™ |

**Phase 1 ì™„ë£Œ í•­ëª©**:
- [x] packages/vtuber íŒ¨í‚¤ì§€ ìƒì„±
- [x] VMCClient í´ë˜ìŠ¤ êµ¬í˜„ (connect, disconnect, sendExpression)
- [x] BlendShape ë°ì´í„° ì†¡ìˆ˜ì‹ 
- [x] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ > 80%
- [x] WebSocket ë©”ì‹œì§€ íƒ€ì… ì¶”ê°€ (shared)

**Phase 2 ì§„í–‰ í•­ëª©**:
- [x] AvatarController í´ë˜ìŠ¤ êµ¬í˜„
- [x] ReactionMapper í´ë˜ìŠ¤ êµ¬í˜„
- [x] VSeeFace Window Capture ê°€ì´ë“œ ì‘ì„±
- [ ] VSeeFace ì‹¤í–‰ ì—°ë™ í…ŒìŠ¤íŠ¸
- [ ] VRoid Hub ì•„ë°”íƒ€ ì„ íƒ

---

## 12. ë¯¸ê²° ì§ˆë¬¸

- [ ] **VRoid Hub ì•„ë°”íƒ€ ì„ íƒ**: í”„ë¡œê·¸ë˜ë¨¸ ì»¨ì…‰ 3ê°œ í›„ë³´ ì¤‘ ìµœì¢… 1ê°œ ì„ ì • (Phase 1ì—ì„œ ê²°ì •)
- [ ] **ë°˜ì‘ ì• ë‹ˆë©”ì´ì…˜ ìš°ì„ ìˆœìœ„**: Commitê³¼ ì±„íŒ…ì´ ë™ì‹œ ë°œìƒ ì‹œ ì–´ëŠ ê²ƒ ìš°ì„ ? (Phase 3ì—ì„œ ê²°ì •)
- [ ] **TTS ìŒì„± í•©ì„± ì¶”ê°€ ì—¬ë¶€**: v2ì—ì„œ ê³ ë ¤í•  ê²ƒì¸ê°€, v3ìœ¼ë¡œ ë¯¸ë£° ê²ƒì¸ê°€?
- [ ] **ì•„ë°”íƒ€ êµì²´ ë¹ˆë„**: ë°©ì†¡ë§ˆë‹¤ êµì²´í•  ê²ƒì¸ê°€, ê³ ì •í•  ê²ƒì¸ê°€?
- [ ] **OBS Window Capture vs Browser Source**: ì„±ëŠ¥ ì´ìŠˆ ì‹œ Browser Source (WebGL)ë¡œ ì „í™˜í•  ê²ƒì¸ê°€?

---

## 13. ì²¨ë¶€ ìë£Œ

### ì™€ì´ì–´í”„ë ˆì„ / ëª©ì—…

- **HTML ëª©ì—…**: [docs/mockups/vseface-overlay.html](../../docs/mockups/vseface-overlay.html)
- **ìŠ¤í¬ë¦°ìƒ·**: [docs/images/vseface-overlay.png](../../docs/images/vseface-overlay.png)

### ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

- **ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜**: [docs/images/vseface-architecture.mmd](../../docs/images/vseface-architecture.mmd)
- **ë°ì´í„° íë¦„**: [docs/images/vseface-dataflow.mmd](../../docs/images/vseface-dataflow.mmd)

### ì°¸ê³  ìë£Œ

- VSeeFace ê³µì‹: https://www.vseeface.icu/
- VMC Protocol: https://protocol.vmc.info/
- VRoid Hub: https://hub.vroid.com/
- youtuber í”„ë¡œì íŠ¸ README: [../../README.md](../../README.md)
- youtuber_chatbot PRD: [../../../youtuber_chatbot/docs/PRD-0002-chatbot.md](../../../youtuber_chatbot/docs/PRD-0002-chatbot.md)

---

## ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë²„ì „ | ë³€ê²½ ë‚´ìš© | ì‘ì„±ì |
|------|------|----------|--------|
| 2026-01-04 | 1.0.0 | ì´ˆì•ˆ ì‘ì„± (Draft) | Claude |
| 2026-01-06 | 2.0.0 | **ë²”ìœ„ ì¶•ì†Œ**: Phase 3-4 ì•„ì¹´ì´ë¹™, VSeeFace í™œì„±í™” ì§‘ì¤‘ | Claude |

---

**ê²€í† ì**: (ì‚¬ìš©ì ìŠ¹ì¸ ëŒ€ê¸°)
**ìŠ¹ì¸ì¼**: (ë¯¸ì •)
**ë‹¤ìŒ ë‹¨ê³„**: Phase 1 ê°œë°œ ì‹œì‘ (`/work "PRD-0001 Phase 1 VSeeFace ê¸°ë³¸ ì—°ë™ êµ¬í˜„"`)
